
<div id="loadingIcon" style="display: none">
	<div class="wrapper" style= "height: 200px;width: 200px;">
		<img src="/custom/common/xhr/gear.gif" />
	</div>
</div>
<div id="dialogLoadingPageError" title="Error Occured" style="display: none">
	<div class="wrapper errorDialog" >
		<div>Error occured on loading page.</div>
		<div><input type="button" id="btnClose" value= "Close" onclick="closeLoadingPageErrorPopup()" style="margin-top: 15px;"></div>
	</div>
</div>
<div id="message" title="Failure"><p>Error occured while performing search. Please contact administrator.</p></div>
<div id="popup" class="popup-window" style="position: fixed; left:0px; top:0px; z-index:2147483647; visibility: hidden; opacity: 0;">
	<div class="wrapper" style= "height: 600px;">
		<div id="title-bar"><input id="close" type="button" class="close-button" value="Done Ã—" style="margin-right: 100px;"></div>
		<div id="sketchContainer">
			<!-- iframe id="sketchImg" src="/marvinjs/editor.html" ></iframe -->
			<img src='' alt='' id='marvin_popup_image'>
		</div>
	</div>
</div>
<!-- form -->
<div class="basic_search_container">

	<div id="marvinjs" class="marvinjs" style="margin-left: 15px; margin-top: 15px;">
		<iframe src="/marvinjs/editorws.html" class="sketch" id="sketch" width="100%"></iframe>
	</div>

	<div id="basic_search_form" style="width:100%">
		<form id="basicsearch" action="#" method="get" style="width:100%">

				<!-- <li> -->
					<fieldset id="basic_search_form_fieldset">
						<legend>Search Type</legend>
						<ul>
							<li>
								<input type="radio" name="search_type" id="full_structure" value="FULL" checked>
								<label for="full_structure">Full Structure</label>
							</li>
							<li>
								<input type="radio" name="search_type" id="substructure" value="SUBSTRUCTURE">
								<label for="substructure">Substructure</label>
							</li>
							<li >
								<input type="radio" name="search_type" id="similarity" value="SIMILARITY">
								<label for="similarity" style="padding-right:0;">Similarity</label>								
								<label for="threshold">Threshold</label>
								<input name="threshold" id="threshold" class="threshold" type="number" step="0.01"  min="0" max="1" value="0.8" style="width: 60px;">
							</li>
						</ul>
					</fieldset>
				<!-- </li> -->

			<fieldset style='display: contents;'>
				<legend> Compound Characteristics </legend>
				<ul class="basic_search_form_outer">
					<li>
						<label for="conpoundname">Compound name:</label>
						<input class="typeahead twitter-typeahead" data-provide="typeahead" id="compoundname" name="compoundname" type="text" style="width: 300px;" autocomplete=off>
						
					</li>
					<li>
						<label for="accuratemass_fs">Molecular weight:</label>
						<fieldset>
							<ul>
								<li id="molWtprecision_li">
									<input id="minMolecularWeight" name="minMolecularWeight" type="number" style="width:45%; margin-right : 10%" step=".01" placeholder="Min weight" autocomplete=off>
									<input id="maxMolecularWeight" name="maxMolecularWeight" type="number" style="width:45%;" step=".01" placeholder="Max weight" autocomplete=off>
									
								</li>
							</ul>
						</fieldset>

					</li>
					<li>
						<label for="formula">Exact Chemical formula:</label>
						<input id="formula" name="formula" type="text" autocomplete=off>
					</li>
					<li>
						<label for="inchi">InChI:</label>
						<input id="inchi" name="inchi" type="text" autocomplete=off>
					</li>
					<li>
						<label for="inchikey">InChIKey:</label>
						<input id="inchikey" name="inchikey" type="text" autocomplete=off>
					</li>
					<li>
						<label for="smiles">SMILES:</label>
						<input id="smilesForm" name="smilesForm" type="text" autocomplete=off>
					</li>
					<li>
						<label for="accuratemass_fs">Accurate mass:</label>
						<fieldset>
							<ul>

								<li id="amprecision_li">									
									<input id="accuratemass" name="accuratemass" type="number" step=".0001" size="4" style="width:35%;" autocomplete=off>
									<label for="amprecision" style="width: 10%; margin-left: 10px;margin-bottom: 12px; margin-right: 0px;">+/-</label>
									<input id="amprecision" name="amprecision" type="number" step="0.01" value="5" size="5" style="width: 25%;" autocomplete=off>
									<select id="amprecision_select" name="amprecision_select" style="width: 24%; background-color:#D9D9D9; height:35px;">
										<option value="PPM">PPM</option>
										<option value="Dalton">Dalton</option>
									</select>
								</li>
							</ul>
						</fieldset>
					</li>
					<li>
						<label for="formula">Custom Chemical formula:</label>
						<fieldset>
							<ul id="customFormTable">
								<!--li id="row0">
									<div>
										<select id="customFormulaElement0" name="customFormulaElement0" style="margin: 0;margin-right: 2%; width: 25%; background-color:#D9D9D9; height:35px;">
												<option selected value=""></option>
												<option value="C">C</option>
												<option value="N">N</option>
												<option value="H">H</option>
												<option value="O">O</option>
												<option value="CL">Cl</option>
												<option value="S">S</option>
												<option value="B">B</option>
												<option value="P">P</option>
												<option value="BR">Br</option>
												<option value="F">F</option>
												<option value="I">I</option>											
										</select>
										<select id="customFormulaOperator0" name="customFormulaOperator0" style="margin: 0; margin-right: 2%;width: 23%; background-color:#D9D9D9; height:35px;">
												<option selected value=""></option>
												<option value="lessThan"><</option>
												<option value="greaterThan">></option>
												<option value="equalTo">=</option>
										</select>
										<input id="customFormulaValue0" name="customFormulaValue0" type="number" step="1" size="4" style="margin-bottom: 0;width:25%; margin-right: 5px;" autocomplete=off>
										<span id="btA0" class=" icon-plus" onclick="addRow(this)" style="cursor: pointer; margin-top: 10px; margin-right: 10px;"></span>
										<span id="btD0" class="icon-remove" onclick="remRow(this)" style="cursor: pointer; margin-top: 10px;">
									</div>
								</li -->
							</ul>
						</fieldset>
						
						
						
						
						
						<!--table id="customFormTable" style="border: 0; width: 60%;">
							<tbody >
								<tr id="row0">
									<td style="border:0; width:6%; padding-left: 0; padding-bottom: 0;">
										<select id="customFormulaElement0" name="customFormulaElement0" style="margin: 0; width: 100%; background-color:#D9D9D9; height:33px;">
											<option selected value=""></option>
											<option value="C">C</option>
											<option value="N">N</option>
											<option value="H">H</option>
											<option value="O">O</option>
											<option value="CL">Cl</option>
											<option value="S">S</option>
											<option value="B">B</option>
											<option value="P">P</option>
											<option value="BR">Br</option>
											<option value="F">F</option>
											<option value="I">I</option>
											
										</select>
									</td>
									<td style="border:0; width:5%; padding-left: 0; padding-bottom: 0;">
										<select id="customFormulaOperator0" name="customFormulaOperator0" style="margin: 0; width: 100%; background-color:#D9D9D9; height:33px;">
											<option selected value=""></option>
											<option value="lessThan"><</option>
											<option value="greaterThan">></option>
											<option value="equalTo">=</option>
										</select>
									</td>
									<td style="border:0; width:10%; padding-left: 0; padding-bottom: 0;">
										<input id="customFormulaValue0" name="customFormulaValue0" type="number" step="1" size="4" style="margin-bottom: 0;width:57%; margin-right: 5px;" autocomplete=off>
										<span id="btA0" class=" icon-plus" onclick="addRow(this)" style="cursor: pointer; margin-top: 10px; margin-right: 10px;"></span>
										<span id="btD0" class="icon-remove" onclick="remRow(this)" style="cursor: pointer; margin-top: 10px;">
									</td>
								</tr>
							</tbody>
						</table -->
					</li>
				</ul>
			</fieldset>
			<fieldset style='display: contents;'>
				<legend>Origin Characteristics</legend>
				<ul class="basic_search_form_outer" id='originChar'>
					<li>
						<label for="sourcegenus">Source genus:</label>						
							<input class="typeahead twitter-typeahead" data-provide="typeahead" id="sourcegenus" name="sourcegenus" type="text" style="width: 300px;" autocomplete=off>						
					</li>
					<li>
						<label for="sourcespecies">Source species:</label>						
							<input class="typeahead1 twitter-typeahead" data-provide="typeahead" id="sourcespecies" name="sourcespecies" type="text" style="width: 300px;" autocomplete=off>						
					</li>
					<li>
						<label>Source organism type:</label>
						<select name="origintype" id="origintype" style=" background-color:#D9D9D9; height:35px;">
							<option disabled selected id="otph">Select an origin type</option>
							<option value="all" id="otal">All</option>
							<option value="Bacterium" id="otba">Bacteria</option>
							<option value="Fungus" id="otfu">Fungi</option>
							<!--option value="Cyanobacteria" id="otcy">Cyanobacteria</option -->
							
						</select>
					</li>
					
				</ul>
			</fieldset>
			<fieldset>
				<legend></legend>
				<ul class="basic_search_form_outer">
					<li>
						<input type="submit" id="btn-submit" value="Submit" class="btn btn-primary">
						<input type="button" id="btn-reset" value="Reset" class="btn btn-primary" style="height: 18px;">
					</li>
				</ul>
			</fieldset>

		</form>
	</div>
</div>

<div id="basic_search_result" style="background-color: white;">

	<div id="total"> </div>
	<div id="exportDiv" style="display:none;text-align: right;margin-right: 1%;">
		<input type="button" id="exportAll" value="Download results to tsv file" style="white-space: normal;width: 112px;" class="btn btn-secondary" onclick="ExportAll()">
		<label style="display: inline-block;margin-left: 3%;margin-right: 3%;">Download is limited to 100 entries</label>
		<input type="button" id="allResultsGlobal" value="Project all results to Global View" class="btn btn-secondary" style="white-space: normal;width: 112px;" onclick="allResultsGlobalView()">
		
	</div>
	<div id="pagination_above_count" style="background-color: white;"></div>
	<div id="pagination_above" class="pagination" style="background-color: white;"></div>


	<div id="results" style="margin-top: 25px;"></div>

	<div id="pagination_under_count" style="background-color: white;"></div>
	<div id="pagination_under" class="pagination" style="background-color: white; margin-bottom: 30px;"></div>
	<div id="pagSpaceDiv" style="display:none;">
		<br/><br/>
	</div>
	<div id="no_results" ></div>
</div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> 
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
<script src="/marvinjs/js/lib/rainbow/rainbow-custom.min.js"></script>
<script src="/marvinjs/gui/lib/promise-1.0.0.min.js"></script>
<script src="/marvinjs/js/marvinjslauncher.js"></script>
<script type="text/javascript" src="/custom/common/xhr/bootstrapTypeahead.js"></script>
<script src="/custom/common/xhr/test.js"></script>
<script src="/custom/search/basic/basicSearch.js"></script>
<script src="/custom/search/basic/extraFunc.js"></script>
<link rel="stylesheet" type="text/css" href="/custom/search/basic/basicsearch_additional_css.css">

